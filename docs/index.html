<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreeWorld OS - Documentation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>FreeWorld OS Documentation</h1>
            <p class="subtitle">Complete technical documentation for the FreeWorld Operating System</p>
        </header>

        <nav class="sidebar">
            <h2>Navigation</h2>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li class="nav-section">Boot Components</li>
                <li><a href="pages/bootmgr.html">BOOTMGR</a></li>
                <li><a href="pages/bcd.html">BCD</a></li>
                <li><a href="pages/freeload.html">freeload.exe</a></li>
                <li class="nav-section">Core System</li>
                <li><a href="pages/kernel.html">fwoskrnl.exe</a></li>
                <li><a href="pages/hal.html">hal.dll</a></li>
                <li><a href="pages/io-infrastructure.html">I/O Infrastructure</a></li>
                <li><a href="pages/memory.html">Memory Management</a></li>
                <li><a href="pages/drivers.html">Device Drivers</a></li>
                <li><a href="pages/process.html">Process Management</a></li>
                <li><a href="pages/resource-manager.html">Resource Manager</a></li>
                <li><a href="pages/ipc-system.html">IPC System</a></li>
                <li><a href="../INTEGRATION-AUDIT.md">Integration Audit</a></li>
                <li><a href="../INTEGRATION-GAPS.md">Integration Gaps</a></li>
                <li><a href="pages/filesystem-kernel.html">File System</a></li>
                <li><a href="pages/graphics.html">Graphics System</a></li>
                <li class="nav-section">Services</li>
                <li><a href="pages/fwcompositor.html">fwcompositor</a></li>
                <li><a href="pages/smss.html">smss.exe</a></li>
                <li><a href="pages/csrss.html">csrss.exe</a></li>
                <li><a href="pages/freeworldlogon.html">freeworldlogon.exe</a></li>
                <li><a href="pages/networkd.html">networkd</a></li>
                <li><a href="pages/logd.html">logd</a></li>
                <li><a href="pages/securityd.html">securityd</a></li>
                <li><a href="pages/services-manager.html">Services Manager</a></li>
                <li><a href="pages/task-manager.html">Task Manager</a></li>
                <li><a href="pages/display-manager.html">display-manager</a></li>
                <li class="nav-section">User Interface</li>
                <li><a href="pages/shell.html">Shell</a></li>
                <li><a href="pages/wanderer.html">Wanderer</a></li>
                <li><a href="pages/fwmic.html">FWMIC</a></li>
                <li><a href="pages/file-type-associations.html">File Type Associations</a></li>
                <li><a href="pages/icon-system.html">Icon System</a></li>
                <li class="nav-section">GUI Subsystems</li>
                <li><a href="pages/event-system.html">Event System</a></li>
                <li><a href="pages/input-manager.html">Input Manager</a></li>
                <li><a href="pages/windowing-architecture.html">Windowing Architecture</a></li>
                <li><a href="pages/gui-kernel.html">Kernel GUI System</a></li>
                <li><a href="pages/dc.html">Device Context</a></li>
                <li><a href="pages/compositor.html">Compositor</a></li>
                <li><a href="pages/resources.html">Resource Manager</a></li>
                <li><a href="pages/clipboard.html">Clipboard & Drag & Drop</a></li>
                <li><a href="pages/window-relationships.html">Window Relationships</a></li>
                <li><a href="pages/menu.html">Menu System</a></li>
                <li><a href="pages/nonclient.html">Non-Client Area</a></li>
                <li><a href="pages/controls.html">Standard Controls</a></li>
                <li><a href="pages/window.html">Window Management</a></li>
                <li><a href="pages/wm-client.html">Window Manager Client</a></li>
                <li><a href="pages/graphics.html">Graphics System</a></li>
                <li><a href="pages/drivers.html">Graphics Drivers</a></li>
                <li><a href="pages/gui-integration.html">GUI Integration</a></li>
                <li><a href="pages/timer.html">Timer Manager</a></li>
                <li><a href="pages/property.html">Property Manager</a></li>
                <li><a href="pages/hooks.html">Hook Manager</a></li>
                <li><a href="pages/focus.html">Focus Manager</a></li>
                <li class="nav-section">System Services</li>
                <li><a href="pages/object-manager.html">Object Manager</a></li>
                <li><a href="pages/path.html">Path Parser</a></li>
                <li><a href="pages/registry.html">Registry</a></li>
                <li><a href="pages/filesystem-watcher.html">File System Watcher</a></li>
                <li><a href="pages/security.html">Security Manager</a></li>
                <li><a href="pages/error.html">Error Manager</a></li>
                <li><a href="pages/shell-ecosystem.html">Shell Ecosystem</a></li>
                <li class="nav-section">Node.js System</li>
                <li><a href="pages/window.html">Window API</a></li>
                <li><a href="pages/desktop.html">Desktop</a></li>
                <li><a href="pages/api.html">System API</a></li>
                <li><a href="pages/filesystem.html">Filesystem API</a></li>
                <li><a href="pages/integration.html">System Integration</a></li>
                <li class="nav-section">Rendering System</li>
                <li><a href="pages/rendering-engine.html">Native Rendering Engine</a></li>
                <li><a href="pages/browser-engine.html">ASM Browser Engine (Legacy)</a></li>
                <li><a href="pages/browser-nodejs.html">Node.js Integration</a></li>
                <li><a href="pages/browser-rendering.html">Rendering System</a></li>
                <li><a href="pages/browser-network.html">Network Stack</a></li>
                <li class="nav-section">Reference</li>
                <li><a href="pages/naming-conventions.html">Naming Conventions</a></li>
                <li><a href="pages/boot-process.html">Boot Process</a></li>
                <li><a href="pages/boot-analysis.html">Boot Analysis</a></li>
                <li><a href="pages/architecture.html">Architecture</a></li>
                <li><a href="pages/syscalls.html">System Calls</a></li>
                <li><a href="pages/variables.html">Variables & Constants</a></li>
            </ul>
        </nav>

        <main class="content">
            <section class="intro">
                <h2>Welcome to FreeWorld OS Documentation</h2>
                <p>This documentation provides comprehensive information about every component, class, module, and system detail of the FreeWorld Operating System.</p>
                
                <h3>Quick Links</h3>
                <div class="card-grid">
                    <div class="card">
                        <h4>Boot Components</h4>
                        <p>Documentation for boot manager, BCD, and OS loader</p>
                        <a href="pages/bootmgr.html">View Boot Components ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Kernel & HAL</h4>
                        <p>Core system components and hardware abstraction</p>
                        <p class="status-badge">‚úÖ Protected Mode Working | ‚úÖ 64-bit Long Mode</p>
                        <a href="pages/kernel.html">View Kernel ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>I/O Infrastructure</h4>
                        <p>Complete serial ports, IRQ handling, and hardware I/O</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/io-infrastructure.html">View I/O Infrastructure ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Memory Management</h4>
                        <p>Paging, frame allocator, and heap allocator</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/memory.html">View Memory Management ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Device Drivers</h4>
                        <p>VGA, keyboard, timer, mouse, and VESA graphics drivers</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/drivers.html">View Device Drivers ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Process Management</h4>
                        <p>Process and thread creation, scheduling, context switching</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/process.html">View Process Management ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>File System</h4>
                        <p>Kernel file system driver for loading programs</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/filesystem-kernel.html">View File System ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Graphics System</h4>
                        <p>VESA framebuffer, graphics primitives, and Node.js bridge</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/graphics.html">View Graphics System ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>FWMIC</h4>
                        <p>FreeWorld Management Instrumentation and Control</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/fwmic.html">View FWMIC ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>System Services</h4>
                        <p>Session manager, CSRSS, and login system</p>
                        <a href="pages/smss.html">View Services ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>User Interface</h4>
                        <p>Shell and file manager documentation</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/shell.html">View UI Components ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>File Type Associations</h4>
                        <p>100+ file types with MIME types, icons, and default applications</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/file-type-associations.html">View File Types ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Icon System</h4>
                        <p>Icon management, serving, and fallback system</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/icon-system.html">View Icon System ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Windowing System</h4>
                        <p>Native windowing architecture with kernel integration</p>
                        <p class="status-badge">‚úÖ Architecture Designed</p>
                        <a href="pages/windowing-architecture.html">View Windowing System ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>GUI Subsystems</h4>
                        <p>Device Context, Compositor, Resources, Input, Controls</p>
                        <a href="pages/dc.html">View GUI Subsystems ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>System Services</h4>
                        <p>Object Manager, Registry, Security, Error Handling</p>
                        <a href="pages/object-manager.html">View System Services ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Node.js System</h4>
                        <p>Window management, desktop, and APIs</p>
                        <a href="pages/window.html">View Node.js System ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Native Rendering Engine</h4>
                        <p>Hybrid rendering engine for native UI and Node.js apps</p>
                        <p class="status-badge">‚úÖ All 5 Phases Complete</p>
                        <a href="pages/rendering-engine.html">View Rendering Engine ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Resource Manager</h4>
                        <p>Heuristic-based resource management for CPU, memory, I/O</p>
                        <p class="status-badge">‚úÖ Complete</p>
                        <a href="pages/resource-manager.html">View Resource Manager ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Boot Analysis</h4>
                        <p>Complete analysis of boot components and missing pieces</p>
                        <p class="status-badge">üìã Analysis Complete</p>
                        <a href="pages/boot-analysis.html">View Boot Analysis ‚Üí</a>
                    </div>
                    <div class="card">
                        <h4>Reference</h4>
                        <p>Naming conventions, boot process, architecture</p>
                        <a href="pages/naming-conventions.html">View Reference ‚Üí</a>
                    </div>
                </div>

                <h3>System Overview</h3>
                <p>FreeWorld OS is a hybrid operating system that combines:</p>
                <ul>
                    <li><strong>Low-level boot layer</strong>: ASM/C/C++ for boot components, kernel, and HAL</li>
                    <li><strong>High-level runtime</strong>: Node.js for desktop environment and applications</li>
                    <li><strong>Cross-platform support</strong>: Windows and Linux file operations</li>
                    <li><strong>Architecture support</strong>: Full x86_64 (64-bit) support with long mode transition, ARM64 and RISC-V planned</li>
                    <li><strong>Executable format</strong>: Currently uses flat binary format (simple, fast, no parsing needed)</li>
                </ul>
                
                <div class="alert alert-info">
                    <strong>Note on .exe/.dll Extensions:</strong> FreeWorld OS uses `.exe` and `.dll` extensions as naming conventions only. The current format is flat binary (not PE format). See <a href="EXECUTABLE_FORMATS.md">EXECUTABLE_FORMATS.md</a> for details on format options and why you don't need to reverse engineer anything.
                </div>

                <h3>Boot System Status</h3>
                <div class="alert alert-info">
                    <strong>üìã Boot Analysis Complete</strong><br>
                    Comprehensive analysis of boot components and missing pieces for full standalone/QEMU boot:
                    <ul>
                        <li>‚úÖ BOOTMGR - Fully functional boot sector</li>
                        <li>‚úÖ Kernel Entry - Complete 16‚Üí32‚Üí64-bit transition</li>
                        <li>‚ùå Filesystem Driver - Required for loading Node.js and libraries</li>
                        <li>‚ùå ELF Loader - Required for loading executables</li>
                        <li>‚ùå Process Execution (execve) - Required for launching Node.js</li>
                        <li>‚ùå Root Filesystem Mounting - Required for system initialization</li>
                        <li>‚ùå Init Process - Required for user-space startup</li>
                    </ul>
                    See <a href="pages/boot-analysis.html">Boot Analysis</a> for complete details.
                </div>

                <h3>Native Rendering Engine</h3>
                <div class="alert alert-success">
                    <strong>‚úÖ All 5 Phases Complete</strong><br>
                    Native rendering and application runtime engine (NOT a web browser):
                    <ul>
                        <li>‚úÖ Phase 1: Core Rendering (ASM) - Primitives, blitting, clipping</li>
                        <li>‚úÖ Phase 2: Rendering Engine (C) - Compositing, blend modes, double buffering</li>
                        <li>‚úÖ Phase 3: Font System (C) - Font loading and text rendering</li>
                        <li>‚úÖ Phase 4: Image System (C) - BMP/ICO support, scaling, caching</li>
                        <li>‚úÖ Phase 5: Layout Engine (C) - 7 layout algorithms, alignment, spacing</li>
                    </ul>
                    <strong>Total:</strong> ~2,500 lines of production code. See <a href="pages/rendering-engine.html">Native Rendering Engine</a> for complete documentation.
                </div>

                <h3>Resource Manager</h3>
                <div class="alert alert-success">
                    <strong>‚úÖ Complete</strong><br>
                    Heuristic-based kernel resource management:
                    <ul>
                        <li>‚úÖ CPU resource management (time slices, quotas, priorities)</li>
                        <li>‚úÖ Memory resource management (allocation checks, limits)</li>
                        <li>‚úÖ I/O resource management (bandwidth limits)</li>
                        <li>‚úÖ File descriptor management (FD limits, allocation)</li>
                        <li>‚úÖ System load calculation and monitoring</li>
                        <li>‚úÖ Resource policies (deterministic, battle-tested heuristics)</li>
                    </ul>
                    <strong>Total:</strong> ~1,000 lines of production code. See <a href="pages/resource-manager.html">Resource Manager</a> for complete documentation.
                </div>

                <h3>ASM Browser Engine (Legacy Concept)</h3>
                <div class="alert alert-info">
                    <strong>üîÑ Architecture Designed (Superseded)</strong><br>
                    Original pure assembly-language browser concept (superseded by hybrid approach):
                    <ul>
                        <li>Core browser engine with simplified DOM</li>
                        <li>Node.js integration layer</li>
                        <li>Rendering system with framebuffer access</li>
                        <li>Event system for input handling</li>
                        <li>Network stack for resource loading</li>
                        <li>Storage system for local/session storage</li>
                    </ul>
                    See <a href="pages/browser-engine.html">ASM Browser Engine</a> for complete architecture.
                </div>

                <h3>Current Development Status</h3>
                <div class="alert alert-success">
                    <strong>‚úÖ All Critical Subsystems: COMPLETE</strong><br>
                    The kernel has all critical subsystems built and integrated:
                    <ul>
                        <li>‚úÖ Protected mode transition (GDT, A20, CR0.PE)</li>
                        <li>‚úÖ 64-bit long mode transition (CPUID, 4-level paging, PAE, EFER)</li>
                        <li>‚úÖ Complete IDT setup (256 entries, all exception handlers)</li>
                        <li>‚úÖ PIC remapping (IRQ0-15 ‚Üí INT 0x20-0x2F)</li>
                        <li>‚úÖ Memory management (paging, frame allocator, heap)</li>
                        <li>‚úÖ Device drivers (keyboard, timer, VGA, mouse, VESA)</li>
                        <li>‚úÖ Process/thread management (scheduling, context switching)</li>
                        <li>‚úÖ File system driver (open, read, write, seek)</li>
                        <li>‚úÖ Graphics system (VESA framebuffer, primitives, Node.js bridge)</li>
                        <li>‚úÖ Native Rendering Engine (all 5 phases complete)</li>
                        <li>‚úÖ Resource Manager (CPU, memory, I/O, FD management)</li>
                        <li>‚úÖ System call interface (INT 0x80)</li>
                        <li>‚úÖ I/O infrastructure (serial ports, IRQ handling)</li>
                        <li>‚úÖ Subsystem integration (kernel_subsystems_init)</li>
                        <li>‚úÖ Shell with command history and FWMIC</li>
                    <li>‚úÖ Desktop Container - Base container for desktop environment</li>
                    <li>‚úÖ Event Bus - Central event system for component communication</li>
                    <li>‚úÖ Input Manager - Unified input handling</li>
                    <li>‚úÖ Drag & Drop System - Standalone drag-drop component</li>
                    </ul>
                </div>

                <h3>Native Windowing System</h3>
                <p>FreeWorld OS uses a <strong>native windowing architecture</strong> similar to X11, Wayland, and Windows DWM:</p>
                <ul>
                    <li><strong>Kernel Graphics Layer</strong>: Direct VESA framebuffer access, graphics syscalls</li>
                    <li><strong>Window Manager Service (fwcompositor)</strong>: Central window management, compositing, IPC server</li>
                    <li><strong>Node.js Client Library</strong>: IPC client for applications to communicate with window manager</li>
                    <li><strong>IPC Communication</strong>: Unix socket or TCP port for clean separation between apps and window manager</li>
                </ul>
                <p>See <a href="pages/windowing-architecture.html">Windowing Architecture</a> for complete details.</p>

                <h3>GUI Subsystems</h3>
                <p>FreeWorld OS includes comprehensive GUI subsystems for Win32-like functionality:</p>
                <ul>
                    <li><strong>Rendering</strong>: Device Context (DC), Compositor with transparency and shadows</li>
                    <li><strong>Resources</strong>: Global resource manager for fonts, icons, cursors, brushes</li>
                    <li><strong>Input</strong>: Focus management, mouse capture, hit testing, modifiers</li>
                    <li><strong>IPC</strong>: Clipboard with multiple formats, Drag & Drop</li>
                    <li><strong>Windows</strong>: Parent/child relationships, clipping, modal loops, non-client area</li>
                    <li><strong>Controls</strong>: Standard controls (BUTTON, EDIT, STATIC)</li>
                    <li><strong>Menus</strong>: Menu system with accelerators</li>
                    <li><strong>Services</strong>: Timers, properties, hooks, focus management</li>
                </ul>

                <h3>System Services</h3>
                <p>Comprehensive system services for OS functionality:</p>
                <ul>
                    <li><strong>File Management</strong>: Object Manager, Path Parser, File System Watcher</li>
                    <li><strong>Configuration</strong>: Registry with hive management and persistence</li>
                    <li><strong>Security</strong>: Security Manager with sessions, tokens, ACLs</li>
                    <li><strong>Error Handling</strong>: Error Manager with GetLastError, OutputDebugString</li>
                    <li><strong>Shell</strong>: Desktop, Taskbar, ShellExecute</li>
                </ul>

                <h3>File Type & Icon System</h3>
                <p>Comprehensive file type and icon management:</p>
                <ul>
                    <li><strong>File Type Registry</strong>: 100+ file types with MIME types, icons, and default applications</li>
                    <li><strong>Icon Management</strong>: Icon lookup, serving, and emoji fallbacks</li>
                    <li><strong>File Associations</strong>: Automatic mapping of file extensions to icons and applications</li>
                    <li><strong>Icon Directories</strong>: Multiple icon paths with size variants (64x64, scalable, default)</li>
                    <li><strong>HTTP Icon Serving</strong>: Web-based icon serving for GUI applications</li>
                </ul>

                <div class="alert alert-warning">
                    <strong>Implementation Status:</strong> All new subsystems are <strong>structural implementations only</strong>. They provide class definitions, method signatures, and data structures, but do not yet provide actual hardware access or real rendering. See <a href="../STATUS.md">STATUS.md</a> and <a href="../REALITY_CHECK.md">REALITY_CHECK.md</a> for realistic assessment.
                </div>

                <h3>Documentation Structure</h3>
                <p>Each component is documented with:</p>
                <ul>
                    <li>Purpose and overview</li>
                    <li>Code structure and implementation details</li>
                    <li>Functions, classes, and modules</li>
                    <li>Variables and constants</li>
                    <li>Usage examples</li>
                    <li>Integration points</li>
                </ul>
            </section>
        </main>
    </div>

    <footer>
        <p>FreeWorld OS Documentation v0.1.0</p>
    </footer>

    <script src="navigation.js"></script>
</body>
</html>

